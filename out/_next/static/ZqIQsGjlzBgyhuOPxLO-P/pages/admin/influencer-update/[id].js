(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"F+c2":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/influencer-update/[id]",function(){return n("gud9")}])},JTqi:function(e,t,n){"use strict";var r=n("SyM2");t.a={createInfluencer:function(e){return r.a.post("/influencer/create",e).then((function(e){return e.data}))},getAll:function(){return r.a.get("/influencer/all").then((function(e){return e.data}))},deleteInfluencer:function(e,t){return r.a.post("/influencer/delete/".concat(t),e).then((function(e){return e}))},getFilter:function(e){return r.a.get("/influencer/filter?search=".concat(e)).then((function(e){return e.data}))},searchFilter:function(e){return r.a.get("/influencer/filter/category?search=".concat(e)).then((function(e){return e.data}))},updateInfluencer:function(e,t){return r.a.post("/influencer/edit/".concat(t),e).then((function(e){return e.data}))},getOne:function(e){return r.a.get("/influencer/".concat(e)).then((function(e){return e}))},addReward:function(e,t){return r.a.post("/influencer/reward/".concat(t),e).then((function(e){return e.data}))},getAllAdmin:function(){return r.a.get("influencer/all/admin").then((function(e){return e.data}))}}},gud9:function(e,t,n){"use strict";n.r(t);var r=n("1OyB"),a=n("vuIU"),c=n("JX7q"),i=n("md7G"),o=n("foSv"),u=n("Ji7U"),l=n("rePB"),f=n("q1tI"),s=n.n(f),d=n("nOHt"),p=n.n(d),h=n("5rEg"),g=n("CtXQ"),b=n("3S7+"),m=n("2fM7"),O=n("hUol"),y=n("7pwT"),j=n("JTqi"),v=s.a.createElement;function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var I=["Athlete","Musician","Tech","Artist"],S=function(e){Object(u.a)(f,e);var t,n=(t=f,function(){var e,n=Object(o.a)(t);if(P()){var r=Object(o.a)(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Object(i.a)(this,e)});function f(){var e;Object(r.a)(this,f);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return e=n.call.apply(n,[this].concat(a)),Object(l.a)(Object(c.a)(e),"state",{oldInflu:"",influencer:"",selectedItems:[],done:!1,influencerDone:{}}),Object(l.a)(Object(c.a)(e),"onChange",(function(t){var n=e.state.influencer;n[t.target.name]=t.target.value,e.setState({influencer:n})})),Object(l.a)(Object(c.a)(e),"handleChange",(function(t){e.setState({influencer:C({},e.state.influencer,{expertise:t})})})),Object(l.a)(Object(c.a)(e),"onSubmit",(function(){var t=e.state.influencer;if(0!==t.expertise.length&&0!==t.description.length){var n=e.props.id;j.a.updateInfluencer(t,n).then((function(){return e.setState({done:!0})})).catch((function(e){return console.log(e)}))}else O.error("Please complete all required fields")})),e}return Object(a.a)(f,[{key:"componentDidMount",value:function(){var e=this;j.a.getOne(this.props.id).then((function(t){return e.setState({influencer:{name:t.data.name,description:t.data.description,expertise:t.data.expertise,profilePic:t.data.profilePic}})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.selectedItems,n=e.influencer,r=(e.oldInflu,I.filter((function(e){return!t.includes(e)})));return console.log(this.state),""===n?v("div",null,"Loading..."):"Admin"!==this.context.user.role||this.state.done||""===n?(p.a.push("/admin/influencer-chart"),null):v("div",null,v("h1",null,"Create Influencer"),v("div",{className:"create-card"},v(h.a,{name:"firstName",defaultValue:n.name.firstName,placeholder:"Enter Person's Name",onChange:this.onChange,prefix:v(g.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),suffix:v(b.a,{title:"Make Sure to write with Capitals"},v(g.a,{type:"info-circle",style:{color:"rgba(0,0,0,.45)"}}))}),v(h.a,{name:"lastName",defaultValue:n.name.lastName,placeholder:"Last Name ",allowClear:!0,onChange:this.onChange}),v(h.a,{name:"description",defaultValue:n.description,placeholder:"Description of person, hobbies, sports, job, etc... ",allowClear:!0,onChange:this.onChange}),v(m.a,{mode:"multiple",placeholder:"This is his/her Category. ADMIN can create new categories",defaultValue:n.expertise,onChange:this.handleChange,style:{width:"100%"}},r.map((function(e){return v(m.a.Option,{key:e,value:e},e)}))),v(h.a,{name:"profilePic",defaultValue:n.profilePic,placeholder:"image",onChange:this.onChange}),v("button",{onClick:this.onSubmit},"Update")))}}],[{key:"getInitialProps",value:function(e){return{id:e.query.id}}}]),f}(f.Component);Object(l.a)(S,"contextType",y.b),t.default=S}},[["F+c2",0,1,5,7,2,3,4,6,8,9,11]]]);