(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"0Qg4":function(t,e,n){"use strict";n.r(e);var r=n("1OyB"),a=n("vuIU"),i=n("JX7q"),c=n("md7G"),u=n("foSv"),o=n("Ji7U"),l=n("rePB"),s=n("q1tI"),f=n.n(s),d=n("5rEg"),p=n("2fM7"),h=n("hUol"),v=n("nOHt"),g=n.n(v),y=n("GS0l"),b=n("7pwT"),O=n("JUjQ"),m=n("cVAd"),k=n("MKN0"),j=f.a.createElement;function q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function S(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?q(Object(n),!0).forEach((function(e){Object(l.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function P(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}d.a.TextArea;var T=["Addiction","Sleep","Spirituality"],w=function(t){Object(o.a)(s,t);var e,n=(e=s,function(){var t,n=Object(u.a)(e);if(P()){var r=Object(u.a)(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Object(c.a)(this,t)});function s(){var t;Object(r.a)(this,s);for(var e=arguments.length,a=new Array(e),c=0;c<e;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),Object(l.a)(Object(i.a)(t),"state",{kit:"",selectedItems:[],oldKit:{},kitUpdate:!1,fixedArrays:!1}),Object(l.a)(Object(i.a)(t),"componentDidMount",(function(){y.a.getKitAdmin(t.props.id).then((function(e){return t.setState({kit:e})})).catch((function(t){return console.log(t)}))})),Object(l.a)(Object(i.a)(t),"onChange",(function(e){var n=t.state.kit;n[e.target.name]=e.target.value,t.setState({kit:n})})),Object(l.a)(Object(i.a)(t),"handleChange",(function(e){t.setState({kit:S({},t.state.kit,{category:e})})})),Object(l.a)(Object(i.a)(t),"onSubmit",(function(){!1!==t.state.kit?t.addBackend():h.error("Please complete all required fields")})),Object(l.a)(Object(i.a)(t),"addBackend",(function(){var e=t.state.kit,n=e._id;if(e.techniques.length>1)e.techniques.split(" , ");if(e.tips.length>1)e.tips.split(" , ");if(e.products.length>1)e.products.split(" , ");y.a.updateKit({kit:{title:e.title,influencer:e.influencer,products:products,tips:tips,techniques:techniques,category:e.category[0]}},n).then((function(){return t.setState({kitUpdate:!0})})).catch((function(t){return console.log(t)}))})),t}return Object(a.a)(s,[{key:"render",value:function(){var t=this.state,e=t.kit,n=t.selectedItems,r=t.kitUpdate,a=T.filter((function(t){return!n.includes(t)}));return console.log(e),""===e?j("div",null,"Loading..."):"Admin"===this.context.user.role&&!1===r?j("div",{className:"create-survival-page"},j("div",{className:"create-survival-kit-div"},j("p",null,"Title"),j(d.a,{name:"title",defaultValue:e.title,placeholder:"Please enter title",onChange:this.onChange}),j("p",null,"Influencer"),j(d.a,{name:"influencer",defaultValue:e.influencer,placeholder:"Please enter influencer id",onChange:this.onChange}),j("p",null,"Techniques"),j(d.a,{name:"techniques",defaultValue:e.techniques,placeholder:"add technique id separated by ',' ",onChange:this.onChange}),j("p",null,"Tips"),j(d.a,{name:"tips",defaultValue:e.tips,placeholder:"add tips id separated by ',' ",onChange:this.onChange}),j("p",null,"Products"),j(d.a,{name:"products",defaultValue:e.products,placeholder:"add products id separated by ',' ",onChange:this.onChange}),j(p.a,{value:e.category,mode:"multiple",placeholder:"This is the Category. ADMIN can create new categories",name:"category",onChange:this.handleChange,style:{width:"100%"}},a.map((function(t){return j(p.a.Option,{key:t,value:t},t)}))),j("button",{onClick:this.onSubmit},"Submit")),j("div",null,j(m.a,null),j(k.a,null),j(O.a,null))):(g.a.push("/admin/influencer-chart"),null)}}],[{key:"getInitialProps",value:function(t){return{id:t.query.id}}}]),s}(s.Component);Object(l.a)(w,"contextType",b.b),e.default=w},"4IV4":function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/kit-update/[id]",function(){return n("0Qg4")}])},GS0l:function(t,e,n){"use strict";var r=n("SyM2");e.a={getKit:function(t){return r.a.get("/kit/survival/".concat(t)).then((function(t){return t.data}))},kitCreate:function(t){return r.a.post("/kit/create",t).then((function(t){return t.data}))},kitProductBacked:function(t){return r.a.get("/kit/popular",t).then((function(t){return t.data}))},getKitAdmin:function(t){return r.a.get("/kit/admin/".concat(t)).then((function(t){return t.data}))},updateKit:function(t,e){return r.a.post("/kit/update/kit/".concat(e),t).then((function(t){return t.data}))},createTechnique:function(t){return r.a.post("/kit/create/technique",t).then((function(t){return t.data}))},getListTechnique:function(){return r.a.get("/kit/list/techniques").then((function(t){return t.data}))},createSurvivalProduct:function(t){return r.a.post("/kit/create/product",t).then((function(t){return t.data}))},getListProducts:function(){return r.a.get("/kit/list/products").then((function(t){return t.data}))},createSurvivalTip:function(t){return r.a.post("/kit/create/tip",t).then((function(t){return t.data}))},getListTips:function(){return r.a.get("/kit/list/tips").then((function(t){return t.data}))},getProductSurvival:function(t){return r.a.get("/kit/product/".concat(t)).then((function(t){return t.data}))},getTipAdmin:function(t){return r.a.get("kit/admin/tip/".concat(t)).then((function(t){return t.data}))},getTechniqueAdmin:function(t){return r.a.get("kit/admin/technique/".concat(t)).then((function(t){return t.data}))},getSurvivalProductAdmin:function(t){return r.a.get("kit/admin/survival-product/".concat(t)).then((function(t){return t.data}))},getSurvivalProductEdit:function(t){return r.a.get("kit/admin/survival-product/1/".concat(t)).then((function(t){return t.data}))},editSurvivalKit:function(t,e){return r.a.post("kit/update/product/".concat(t),e).then((function(t){return t.data}))},editTipKit:function(t,e){return r.a.post("kit/update/tip/".concat(t),e).then((function(t){return t.data}))},editTechniqueKit:function(t,e){return r.a.post("kit/update/technique/".concat(t),e).then((function(t){return t.data}))},getTipEdit:function(t){return r.a.get("kit/admin/tip/1/".concat(t)).then((function(t){return t.data}))},getTechniqueEdit:function(t){return r.a.get("kit/admin/technique/1/".concat(t)).then((function(t){return t.data}))},getKitProfile:function(t){return r.a.get("/kit/profile/".concat(t)).then((function(t){return t.data}))},getAll:function(){return r.a.get("/kit/all").then((function(t){return t.data}))},searchKit:function(t){return r.a.get("/kit/filter?search=".concat(t)).then((function(t){return t.data}))},getLast:function(){return r.a.get("/kit/last").then((function(t){return t.data}))}}},JUjQ:function(t,e,n){"use strict";var r=n("1OyB"),a=n("vuIU"),i=n("JX7q"),c=n("md7G"),u=n("foSv"),o=n("Ji7U"),l=n("rePB"),s=n("q1tI"),f=n.n(s),d=n("GS0l"),p=f.a.createElement;function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var v=function(t){Object(o.a)(s,t);var e,n=(e=s,function(){var t,n=Object(u.a)(e);if(h()){var r=Object(u.a)(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Object(c.a)(this,t)});function s(){var t;Object(r.a)(this,s);for(var e=arguments.length,a=new Array(e),c=0;c<e;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),Object(l.a)(Object(i.a)(t),"state",{tips:[]}),t}return Object(a.a)(s,[{key:"componentDidMount",value:function(){var t=this;d.a.getListTips().then((function(e){t.setState({tips:e})})).catch((function(t){return console.log(t)}))}},{key:"render",value:function(){var t=this.state.tips;return t.length>0?p("div",{className:"technique-list-page"},p("h4",null,"TipsList"),t.map((function(t,e){return p("div",{className:"list-survival",key:e},p("p",null," ID :  ",t._id),p("p",null," title :  ",t.header))}))):p("div",null," No Unassigned Tips")}}]),s}(s.Component);e.a=v},MKN0:function(t,e,n){"use strict";var r=n("1OyB"),a=n("vuIU"),i=n("JX7q"),c=n("md7G"),u=n("foSv"),o=n("Ji7U"),l=n("rePB"),s=n("q1tI"),f=n.n(s),d=n("GS0l"),p=f.a.createElement;function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var v=function(t){Object(o.a)(s,t);var e,n=(e=s,function(){var t,n=Object(u.a)(e);if(h()){var r=Object(u.a)(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Object(c.a)(this,t)});function s(){var t;Object(r.a)(this,s);for(var e=arguments.length,a=new Array(e),c=0;c<e;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),Object(l.a)(Object(i.a)(t),"state",{products:[]}),t}return Object(a.a)(s,[{key:"componentDidMount",value:function(){var t=this;d.a.getListProducts().then((function(e){return t.setState({products:e})})).catch((function(t){return console.log(t)}))}},{key:"render",value:function(){var t=this.state.products;return t.length>0?p("div",{className:"technique-list-page"},p("h4",null,"ProductsList"),t.map((function(t,e){return p("div",{className:"list-survival",key:e},p("p",null," ID :  ",t._id),p("p",null," Influencer : ",t.influencer," "))}))):p("div",null," No Unassigned Products")}}]),s}(s.Component);e.a=v},cVAd:function(t,e,n){"use strict";var r=n("1OyB"),a=n("vuIU"),i=n("JX7q"),c=n("md7G"),u=n("foSv"),o=n("Ji7U"),l=n("rePB"),s=n("q1tI"),f=n.n(s),d=n("GS0l"),p=f.a.createElement;function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var v=function(t){Object(o.a)(s,t);var e,n=(e=s,function(){var t,n=Object(u.a)(e);if(h()){var r=Object(u.a)(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Object(c.a)(this,t)});function s(){var t;Object(r.a)(this,s);for(var e=arguments.length,a=new Array(e),c=0;c<e;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),Object(l.a)(Object(i.a)(t),"state",{techniques:[]}),t}return Object(a.a)(s,[{key:"componentDidMount",value:function(){var t=this;d.a.getListTechnique().then((function(e){return t.setState({techniques:e})})).catch((function(t){return console.log(t)}))}},{key:"render",value:function(){var t=this.state.techniques;return t.length>0?p("div",{className:"technique-list-page"},p("h4",null,"TechniqueList"),t.map((function(t,e){return p("div",{className:"list-survival",key:e},p("p",null," ID :  ",t._id),p("p",null," title :  ",t.title),p("p",null," Influencer : ",t.influencer," "))}))):p("div",null," No Unassigned Techniques")}}]),s}(s.Component);e.a=v}},[["4IV4",0,1,5,7,2,3,4,6,8,9]]]);