(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"0Ibm":function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/technique-update/[id]",function(){return n("k+Sy")}])},"7pwT":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n("q1tI"),a=n.n(i).a.createContext(),u=a.Provider;a.Consumer;e.b=a},GS0l:function(t,e,n){"use strict";var i=n("SyM2");e.a={getKit:function(t){return i.a.get("/kit/survival/".concat(t)).then((function(t){return t.data}))},kitCreate:function(t){return i.a.post("/kit/create",t).then((function(t){return t.data}))},kitProductBacked:function(t){return i.a.get("/kit/popular",t).then((function(t){return t.data}))},getKitAdmin:function(t){return i.a.get("/kit/admin/".concat(t)).then((function(t){return t.data}))},updateKit:function(t,e){return i.a.post("/kit/update/kit/".concat(e),t).then((function(t){return t.data}))},createTechnique:function(t){return i.a.post("/kit/create/technique",t).then((function(t){return t.data}))},getListTechnique:function(){return i.a.get("/kit/list/techniques").then((function(t){return t.data}))},createSurvivalProduct:function(t){return i.a.post("/kit/create/product",t).then((function(t){return t.data}))},getListProducts:function(){return i.a.get("/kit/list/products").then((function(t){return t.data}))},createSurvivalTip:function(t){return i.a.post("/kit/create/tip",t).then((function(t){return t.data}))},getListTips:function(){return i.a.get("/kit/list/tips").then((function(t){return t.data}))},getProductSurvival:function(t){return i.a.get("/kit/product/".concat(t)).then((function(t){return t.data}))},getTipAdmin:function(t){return i.a.get("kit/admin/tip/".concat(t)).then((function(t){return t.data}))},getTechniqueAdmin:function(t){return i.a.get("kit/admin/technique/".concat(t)).then((function(t){return t.data}))},getSurvivalProductAdmin:function(t){return i.a.get("kit/admin/survival-product/".concat(t)).then((function(t){return t.data}))},getSurvivalProductEdit:function(t){return i.a.get("kit/admin/survival-product/1/".concat(t)).then((function(t){return t.data}))},editSurvivalKit:function(t,e){return i.a.post("kit/update/product/".concat(t),e).then((function(t){return t.data}))},editTipKit:function(t,e){return i.a.post("kit/update/tip/".concat(t),e).then((function(t){return t.data}))},editTechniqueKit:function(t,e){return i.a.post("kit/update/technique/".concat(t),e).then((function(t){return t.data}))},getTipEdit:function(t){return i.a.get("kit/admin/tip/1/".concat(t)).then((function(t){return t.data}))},getTechniqueEdit:function(t){return i.a.get("kit/admin/technique/1/".concat(t)).then((function(t){return t.data}))},getKitProfile:function(t){return i.a.get("/kit/profile/".concat(t)).then((function(t){return t.data}))},getAll:function(){return i.a.get("/kit/all").then((function(t){return t.data}))},searchKit:function(t){return i.a.get("/kit/filter?search=".concat(t)).then((function(t){return t.data}))},getLast:function(){return i.a.get("/kit/last").then((function(t){return t.data}))}}},"k+Sy":function(t,e,n){"use strict";n.r(e);var i=n("1OyB"),a=n("vuIU"),u=n("JX7q"),r=n("md7G"),c=n("foSv"),o=n("Ji7U"),d=n("rePB"),h=n("q1tI"),f=n.n(h),s=n("5rEg"),l=n("nOHt"),p=n.n(l),g=n("7pwT"),v=n("GS0l"),q=f.a.createElement;function k(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var m=s.a.TextArea,b=function(t){Object(o.a)(h,t);var e,n=(e=h,function(){var t,n=Object(c.a)(e);if(k()){var i=Object(c.a)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return Object(r.a)(this,t)});function h(){var t;Object(i.a)(this,h);for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t=n.call.apply(n,[this].concat(a)),Object(d.a)(Object(u.a)(t),"state",{techniques:[],technique:"",data:{header:"",description:[]},techniqueCreated:!1,techniqueDescription:[]}),Object(d.a)(Object(u.a)(t),"handleChange",(function(e){var n=t.state.data;n[e.target.name]=e.target.value,t.setState({data:n})})),Object(d.a)(Object(u.a)(t),"onChange",(function(e){var n=t.state.technique;n[e.target.name]=e.target.value,t.setState({technique:n})})),Object(d.a)(Object(u.a)(t),"fixTechniques",(function(){var e=t.state.data,n=e.description,i={header:e.header,descriptions:n.split(",")},a=t.state.technique.subheading.push(i);""!==i&&t.setState({techniques:{subheading:a}})})),Object(d.a)(Object(u.a)(t),"addTechniques",(function(){var e=t.state.technique;v.a.editTechniqueKit(e._id,e).then((function(){return t.setState({techniqueCreated:!0})})).catch((function(t){return console.log(t)}))})),t}return Object(a.a)(h,[{key:"componentDidMount",value:function(){var t=this;v.a.getTechniqueEdit(this.props.id).then((function(e){return t.setState({technique:e})})).catch((function(t){return console.log(t)}))}},{key:"render",value:function(){var t=this,e=this.state,n=e.technique,i=e.techniqueCreated;return""===n?q("div",null,"Loading..."):"Admin"===this.context.user.role&&!1===i?q("div",null,q(s.a,{name:"influencer",defaultValue:n.influencer,type:"text",placeholder:"Add influencer ID",onChange:this.onChange}),q(m,{name:"title",defaultValue:n.title,rows:4,type:"text",placeholder:"Add technique title",onChange:this.onChange}),q("div",{className:"technique-form-inputs"},q("div",null,n.subheading.map((function(e,n){return q("div",null,q(m,{name:"header",defaultValue:e.header,rows:4,type:"text",placeholder:"Add technique header",onChange:t.handleChange}),e.descriptions.map((function(e,n){return q("div",null,q(m,{name:"description",defaultValue:e,rows:4,type:"text",placeholder:"Add technique description",onChange:t.handleChange}))})))}))),q("button",{onClick:this.fixTechniques},"Add more subheadings")),q("button",{onClick:this.addTechniques},"Send technique")):(p.a.push("/admin/influencer-chart"),null)}}],[{key:"getInitialProps",value:function(t){return{id:t.query.id}}}]),h}(h.Component);Object(d.a)(b,"contextType",g.b),e.default=b}},[["0Ibm",0,1,5,2,3,4,6]]]);